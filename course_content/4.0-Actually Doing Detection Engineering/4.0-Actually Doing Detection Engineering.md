# 4.0 :: Actually Doing Detection Engineering

I would be remiss to finish this course without giving a little insight into what a Detection Engineer does once their infrastructure for automating rules is done. While we still have a few steps left in ours, this is a good point to pause and reflect. This chapter could be a whole course in itself but I will do my best to briefly describe everything I can.

Each team and organization will define the exact roles of a detection engineer differently, but we can think about the scope in which these individuals work and the content of their craft. By having a grasp on these concepts, we can then apply the lessons and skills to our own infrastructure and careers. I would break the responsibilities of a detection engineer into four core concepts:

1. Development and maintenance of Detection Engineering infrastructure.
2. Collaborating with Cyber Security peers to develop a deep understanding of the threats, attacks, or techniques used in the wild and ideally in your own environment.
3. Creating and tuning detections to optimize the coverage of the aforementioned threats.
4. Testing and developing methodology to verify that your detections are effective, accurate, and reliable. 

This course is primarily focused on the first component and we have already built a significant portion of the detection engineering infrastructure that an enterprise grade detection engineering corporation could support and extend. 

To the second point, we should note that the best detection engineers stand on the shoulders of giants. In order to write and maintain effective threat detections, one must have a deep knowledge of the technical platforms they are defending, a comprehensive understanding of the events and incidents that are generated from the detections including how an analyst may go about remediating the issues or identifying false positives, a firm grasp of the how attackers or pentesters might identify and avoid or bypass your detections, and constant collaboration with the threat intelligence analysts who study the active and predominant threats. That is all to say that detection engineering requires constant and eager learning and collaboration in order to be effective. If you lack these skills, do not worry! You are not alone. You can build the skills you need for success by taking courses like this one, joining cyber security communities online or in person, by reading technical threat reports, and by practicing in your lab.

For the third concept, we can get to the namesake of the field, a detection engineer engineers detections. In our case we are writing Sigma rules that translate into SPL that identify atomic threats in our environment. While it is one thing to write detections based on their own research and understanding, a good detection engineer will know what false positives may be generated by their rules and prevent them initially or collaborate closely with security operations analysts to have a continuous feedback loop of detection tuning.

Finally we can get back to automation by building a system that allows us to automatically test and verify our detections. Our goal here is to identify the gaps in our existing security infrastructure and continuously mend those gaps. As we develop detections that we implement into our environment, we then declare that our existing security infrastructure. Rinse and repeat. 

For the remainder of this chapter we will focus on Atomic Red Team by Red Canary. This tool attempts to enumerate as many possible attack techniques and safely execute them with the intention of triggering your detections. In an enterprise this tool will be targeted against both your custom detections and the security tools that normally protect you which is typically your Enterprise Detection and Response (EDR) platform. By using this tool you can quickly identify where you need more detections or which detections you have implemented that may not be operating correctly.

